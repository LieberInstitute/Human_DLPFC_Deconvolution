**** Job starts ****
Fri Jan  5 02:30:01 PM EST 2024
**** JHPCE info ****
User: lhuuki
Job id: 1433304
Job name: 06_deconvolution_BayesPrism_example
Node name: compute-062
Task id: 
Unloading conda_R/4.3.x
Loading conda_R/4.3.x

Currently Loaded Modules:
  1) JHPCE_ROCKY9_DEFAULT_ENV   3) ruby/3.2.2     5) conda/3-23.3.1
  2) JHPCE_tools/3.0            4) rmate/1.5.10   6) conda_R/4.3.x

 

Loading required package: snowfall
Loading required package: snow
Loading required package: NMF
Loading required package: registry
Loading required package: rngtools
Loading required package: cluster
NMF - BioConductor layer [OK] | Shared memory capabilities [OK] | Cores 2/2
Warning messages:
1: replacing previous import ‘gplots::lowess’ by ‘stats::lowess’ when loading ‘BayesPrism’ 
2: replacing previous import ‘BiocParallel::register’ by ‘NMF::register’ when loading ‘BayesPrism’ 
Loading required package: SummarizedExperiment
Loading required package: MatrixGenerics
Loading required package: matrixStats

Attaching package: ‘matrixStats’

The following objects are masked from ‘package:Biobase’:

    anyMissing, rowMedians


Attaching package: ‘MatrixGenerics’

The following objects are masked from ‘package:matrixStats’:

    colAlls, colAnyNAs, colAnys, colAvgsPerRowSet, colCollapse,
    colCounts, colCummaxs, colCummins, colCumprods, colCumsums,
    colDiffs, colIQRDiffs, colIQRs, colLogSumExps, colMadDiffs,
    colMads, colMaxs, colMeans2, colMedians, colMins, colOrderStats,
    colProds, colQuantiles, colRanges, colRanks, colSdDiffs, colSds,
    colSums2, colTabulates, colVarDiffs, colVars, colWeightedMads,
    colWeightedMeans, colWeightedMedians, colWeightedSds,
    colWeightedVars, rowAlls, rowAnyNAs, rowAnys, rowAvgsPerColSet,
    rowCollapse, rowCounts, rowCummaxs, rowCummins, rowCumprods,
    rowCumsums, rowDiffs, rowIQRDiffs, rowIQRs, rowLogSumExps,
    rowMadDiffs, rowMads, rowMaxs, rowMeans2, rowMedians, rowMins,
    rowOrderStats, rowProds, rowQuantiles, rowRanges, rowRanks,
    rowSdDiffs, rowSds, rowSums2, rowTabulates, rowVarDiffs, rowVars,
    rowWeightedMads, rowWeightedMeans, rowWeightedMedians,
    rowWeightedSds, rowWeightedVars

The following object is masked from ‘package:Biobase’:

    rowMedians

Loading required package: GenomicRanges
Loading required package: stats4
Loading required package: S4Vectors

Attaching package: ‘S4Vectors’

The following object is masked from ‘package:NMF’:

    nrun

The following object is masked from ‘package:utils’:

    findMatches

The following objects are masked from ‘package:base’:

    expand.grid, I, unname

Loading required package: IRanges
Loading required package: GenomeInfoDb
here() starts at /dcs04/lieber/lcolladotor/deconvolution_LIBD4030/Human_DLPFC_Deconvolution
Loading objects:
  sc.dat
  bk.dat
  cell.type.labels
  cell.state.labels
[1]   169 60483
                             ENSG00000000003.13 ENSG00000000005.5
TCGA-06-2563-01A-01R-1849-01               5033                12
TCGA-06-0749-01A-01R-1849-01               3422                62
TCGA-06-5418-01A-01R-1849-01               4976                17
TCGA-06-0211-01B-01R-1849-01               5770                 5
TCGA-19-2625-01A-01R-1850-01               3580                18
                             ENSG00000000419.11 ENSG00000000457.12
TCGA-06-2563-01A-01R-1849-01               1536                646
TCGA-06-0749-01A-01R-1849-01                934                479
TCGA-06-5418-01A-01R-1849-01               1654                517
TCGA-06-0211-01B-01R-1849-01               1546                742
TCGA-19-2625-01A-01R-1850-01               1106                730
                             ENSG00000000460.15
TCGA-06-2563-01A-01R-1849-01                424
TCGA-06-0749-01A-01R-1849-01                141
TCGA-06-5418-01A-01R-1849-01                324
TCGA-06-0211-01B-01R-1849-01                745
TCGA-19-2625-01A-01R-1850-01                411
[1] "matrix" "array" 
[1] 23793 60294
[1] "matrix" "array" 
[1] 23793
2024-01-05 14:31:50.648978- Examine Data
EMSEMBLE IDs detected.
EMSEMBLE IDs detected.
EMSEMBLE IDs detected.
number of genes filtered in each category: 
      Rb      Mrp other_Rb     chrM   MALAT1     chrX     chrY 
      89       78     1011       37        1     2464      594 
A total of  4214  genes from Rb Mrp other_Rb chrM MALAT1 chrX chrY  have been excluded 
A total of  24343  gene expressed in fewer than  5  cells have been excluded 
EMSEMBLE IDs detected.
EMSEMBLE IDs detected.
number of genes retained in each category: 

protein_coding 
         16148 
2024-01-05 14:33:52.265544- get.exp.stat
number of markers selected for each cell type: 
tumor :  8686 
myeloid :  575 
pericyte :  114 
endothelial :  244 
tcell :  123 
oligo :  86 
2024-01-05 14:48:33.0927- Build prism object
number of cells in each cell state 
cell.state.labels
PJ017-tumor-6 PJ032-tumor-5     myeloid_8 PJ032-tumor-4 PJ032-tumor-3 
           22            41            49            57            62 
PJ017-tumor-5         tcell PJ032-tumor-2 PJ030-tumor-5     myeloid_7 
           64            67            72            73            75 
PJ035-tumor-8 PJ017-tumor-4 PJ017-tumor-3 PJ017-tumor-2 PJ017-tumor-0 
           81            83            89           101           107 
PJ017-tumor-1 PJ018-tumor-5     myeloid_6     myeloid_5 PJ035-tumor-7 
          107           113           130           141           150 
        oligo PJ048-tumor-8 PJ032-tumor-1 PJ032-tumor-0 PJ048-tumor-7 
          160           169           171           195           228 
PJ025-tumor-9 PJ035-tumor-6 PJ048-tumor-6 PJ016-tumor-6 PJ018-tumor-4 
          236           241           244           261           262 
    myeloid_4 PJ048-tumor-5 PJ048-tumor-4 PJ016-tumor-5 PJ025-tumor-8 
          266           277           303           308           319 
PJ048-tumor-3 PJ035-tumor-5 PJ030-tumor-4 PJ018-tumor-3 PJ016-tumor-4 
          333           334           348           361           375 
PJ025-tumor-7     myeloid_3 PJ035-tumor-4     myeloid_2 PJ025-tumor-6 
          381           382           385           386           397 
PJ018-tumor-2 PJ030-tumor-3 PJ016-tumor-3 PJ025-tumor-5 PJ030-tumor-2 
          403           419           420           421           425 
PJ018-tumor-1 PJ035-tumor-3 PJ048-tumor-2 PJ018-tumor-0 PJ048-tumor-1 
          429           435           437           444           463 
PJ035-tumor-2 PJ035-tumor-1 PJ016-tumor-2 PJ030-tumor-1      pericyte 
          471           474           481           482           489 
  endothelial PJ035-tumor-0 PJ025-tumor-4     myeloid_1 PJ048-tumor-0 
          492           512           523           526           545 
    myeloid_0 PJ030-tumor-0 PJ025-tumor-3 PJ016-tumor-1 PJ016-tumor-0 
          550           563           601           619           621 
PJ025-tumor-2 PJ025-tumor-1 PJ025-tumor-0 
          630           941           971 
Number of outlier genes filtered from mixture = 6 
Aligning reference and mixture... 
Normalizing reference... 
2024-01-05 14:49:15.339606- Run Prism
Run Gibbs sampling... 
Current time:  2024-01-05 14:50:01.981587 
Estimated time to complete:  1hrs 36mins 
Estimated finishing time:  2024-01-05 16:25:32.221587 
Start run... 
R Version:  R version 4.3.2 Patched (2023-11-13 r85524) 

snowfall 1.84-6.3 initialized (using snow 0.4-4): parallel execution on 50 CPUs.

